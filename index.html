<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Marion & Julien</title>
    <!--<link rel=“preload” href="assets/Bombshell Pro.woff" as="font">-->
    <!--<link rel=“preload” href="assets/archer-book-webfont.ttf" as="font">-->
    <style>
        @font-face {
            font-family: 'Bombshell Pro';
            font-style: normal;
            font-weight: normal;
            src: local('Bombshell Pro'), url('assets/Bombshell-Pro.ttf') format('truetype');
        }

        @font-face {
            font-family: 'archer book webfont';
            font-style: normal;
            font-weight: normal;
            src: local('archer book webfont'), url('assets/archer-book-webfont.ttf') format('truetype');
        }

        body {
            font-family: 'archer book webfont', serif;
        }

        a {
            text-decoration: none;
            color: #000;
            /*text-transform: uppercase;*/
        }

        h1, h2 {
            font-family: 'Bombshell Pro', serif;
            font-weight: normal;
        }

        hr {
            display: block;
            height: 1px;
            border: 0;
            border-top: 1px solid black;
            margin: 1em 0;
            padding: 0;
            width: 100%;
        }

        .hidden {
            display: none;
        }

        .active {
            display: block;
        }

        .date {
            /*display: flex;*/
            /*flex-direction: column;*/
            /*align-items: center;< */
            text-align: center;
            margin-bottom: 1em;
        }

        .menu {
            display: flex;
            flex-direction: column;
        }

        /* media query pour mobile flex-direction: row*/

        ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        li {
            flex: 1 1 auto;
            flex-basis: auto;
        }

        .title {
            margin: auto;
            text-align: center;
        }

        .flex-11auto {
            flex: 1 1 auto;
        }

        .flex-00auto {
            flex: 0 0 auto;
        }

        .wedding-date {
            margin: 0;
        }

        .days {
            margin-top: 0;
            font-weight: bold;
        }

        .title-img {
            display: block;
            margin: auto;
            height: 2em;
        }

        section > h1 {
            margin-bottom: 0
        }

        .flex-row-container {
            display: flex;
            flex-direction: row;
            align-items: center;
        }

        .flex-column-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
    </style>
</head>
<body>

<h1 class="title" style="text-align: center">Marion & Julien</h1>
<img src="assets/front.png" style="height:12em; display: block; margin: auto;">

<section class="date">
    <h3 class="wedding-date">15 Septembre 2017</h3>
    <span class="days"></span>
</section>

<hr>
<nav class="menu">
    <ul>
        <li><a href="#" data-name="index">Accueil</a><img src="assets/nav.png" style="height:1em"></li>
        <li><a href="#" data-name="journee">Déroulement de la journée</a><img src="assets/nav.png" style="height:1em"></li>
        <li><a href="#" data-name="photos">Album photos</a><img src="assets/nav.png" style="height:1em"></li>
        <li><a href="#" data-name="hebergements">Hébergements</a><img src="assets/nav.png" style="height:1em"></li>
        <li><a href="#" data-name="acces">Plan d'accès</a><img src="assets/nav.png" style="height:1em"></li>
        <li><a href="#" data-name="presence">Confirmer ma présence</a><img src="assets/nav.png" style="height:1em"></li>
        <li><a href="#" data-name="voyage">Voyage de noce</a><img src="assets/nav.png" style="height:1em"></li>
    </ul>
</nav>
<hr>

<section id="index" class="active">
    <div class="flex-column-container">
        <h1 class="title">Accueil</h1>
        <img src="assets/accueil.png" class="title-img"/>
    </div>
</section>

<section id="journee" class="hidden">
    <div>
        <h1 class="title">Déroulement de la journée</h1>
        <img src="assets/accueil.png" class="title-img"/>
    </div>

    <div class="flex-row-container" style="justify-content: space-between;">
        <img src="assets/mariage.png" style="width: 36px; height: 45px;" class="flex-00auto">
        <div class="flex-column-container flex-11auto">
            <div style="font-size: 1.225em">Passage devant Mr le Maire à 14h</div>
            <div>66 rue de la Mare aux Carats, 78180 Montigny-Le-Bretonneux</div>
        </div>
    </div>
    <div class="flex-row-container" style="justify-content: space-between;">
        <img src="assets/eglise.png" style="width: 58px; height: 50px;" class="flex-00auto">
        <div class="flex-column-container flex-11auto">
            <div style="font-size: 1.225em">Mariage à l'église à 15h</div>
            <div>Eglise Saint Martin, 4 rue Saint Martin, 78180 Montigny-Le-Bretonneux</div>
        </div>
    </div>
    <div class="flex-row-container" style="justify-content: space-between;">
        <img src="assets/cocktail.png" style="width: 59px; height: 45px;" class="flex-00auto">
        <div class="flex-column-container flex-11auto">
            <div style="font-size: 1.225em">Cocktail à 18h</div>
            <div>Domaine de la Butte Ronde, Chemin de l'Abime, 78125 La Boissière-Ecole</div>
        </div>
    </div>
    <div class="flex-row-container" style="justify-content: space-between;">
        <img src="assets/repas.png" style="width: 74px; height: 63px;" class="flex-00auto">
        <div class="flex-column-container flex-11auto">
            <div style="font-size: 1.225em">Repas à 20h</div>
            <div>Domaine de la Butte Ronde, Chemin de l'Abime, 78125 La Boissière-Ecole</div>
        </div>
    </div>
    <div class="flex-row-container" style="justify-content: space-between;">
        <img src="assets/party.png" style="width: 53px;
    height: 71px;" class="flex-00auto">
        <div class="flex-column-container flex-11auto">
            <div style="font-size: 1.225em">PartyTime à 23h30</div>
        </div>
    </div>
</section>

<section id="photos" class="hidden">
    <div class="flex-column-container">
        <h1 class="title">Photos</h1>
        <img src="assets/accueil.png" class="title-img"/>
    </div>
</section>

<section id="hebergements" class="hidden">
    <div class="flex-column-container">
        <h1 class="title">Hébergements</h1>
        <img src="assets/accueil.png" class="title-img"/>
    </div>
</section>

<section id="acces" class="hidden">
    <div class="flex-column-container">
        <h1 class="title">Plan et itinéraire</h1>
        <img src="assets/accueil.png" class="title-img"/>
    </div>
</section>

<section id="presence" class="hidden">
    <h1 class="title">Merci de nous confirmer votre présence avec le formulaire ci-dessous</h1>
    <div class="flex-row-container" style="justify-content: space-around;">
        <form>
            <label>
                Nom<br>
                <input id="form-lastname" type="text" name="name" required/>
            </label>
            <br>
            <label>
                Prénom<br>
                <input id="form-firstname" type="text" name="name" required/>
            </label>
            <br>
            <label>
                Email<br>
                <input id="form-email" type="email" name="lastname" required>
            </label>
            <br>
            <label>
                Nombre de personnes<br>
                <input id="form-people" type="number" min="1" name="lastname" required>
            </label>
            <br>
            <label>
                Dont enfants de moins de 10 ans<br>
                <input id="form-children" type="number" min="0" name="lastname" required>
            </label>
            <br>
            <input name="form-present" type="radio" value="cocktail"/>Assistera avec joie au cocktail<br/>
            <input name="form-present" type="radio" value="cocktail+diner">Assistera avec joie au cocktail et au
            diner<br/>
            <input name="form-present" type="radio" value="Ne viendra pas">Regrette de ne pouvoir être là<br/>
            <br>
            <input type="button" value="Valider" onclick="submitFunction()">
        </form>
        <img src="assets/formulaire.png" style="max-height: 28em">
    </div>
</section>

<section id="voyage" class="hidden">
    <div class="flex-column-container">
        <h1 class="title">Voyage de noce</h1>
        <img src="assets/accueil.png" class="title-img"/>
    </div>
</section>

<script type="text/javascript">

    // switching sections according to the nav menu
    document.querySelectorAll(".menu a").forEach(function (a) {
        a.addEventListener("click", function (node) {
            var activeSection = document.querySelector("section[class='active']");
            activeSection.className = "hidden";

            var section = document.querySelector("section[id='" + node.currentTarget.dataset.name + "']");
            section.className = "active";
        });
    }, false);

    // Show difference days
    var diffDays = Math.ceil(Math.abs(new Date().getTime() - new Date("09/15/2017").getTime()) / (1000 * 3600 * 24));
    document.getElementsByClassName("days")[0].innerHTML = "J-" + diffDays;

    var submitFunction = function () {
        var request = new XMLHttpRequest();
        request.open("POST", "https://salty-ridge-13770.herokuapp.com/api/form");
        request.setRequestHeader("Content-Type", "application/json");
        request.setRequestHeader("Authorization", "Basic bWFyaW9uOmd6cWJwcjdhOTAyOQ==");

        request.send(JSON.stringify({
            firstname: document.getElementById("form-firstname").value,
            lastname: document.getElementById("form-lastname").value,
            email: document.getElementById("form-email").value,
            present: !!document.getElementById("form-present").value
        }));
    };

</script>
</body>
</html>